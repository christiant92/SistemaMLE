<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/templateVistaProcSocial.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">
 
    <ui:define name="content" >
        <h2 align="center">Gestión de Bienes</h2>
        <h:form id="form">
            
            <div>
                <p:dataTable id="tablaBienes" var="bien" value="#{beanBienes.bienes}" scrollable="true" scrollHeight="400">
                                                            
                    <f:facet name="header" >
                        <p:outputPanel>
                            <table>
                                <tr >
                                    <td align="left" style="border-width: 0">
                                        <p:commandButton id="btnAdd" icon="ui-icon-plusthick" 
                                                         title="Agregar Bien" onclick="PF('cdAgregarBien').show();"/>
                                        <p:commandButton actionListener="#{buttonView.buttonAction}" id="btnMod" icon="ui-icon-pencil" title="Modificar Bien"/>
                                        <p:commandButton actionListener="#{buttonView.buttonAction}" id="btnDel" icon="ui-icon-closethick" title="Eliminar Bien"/>
                                    </td>
                                    <td align="right"  style="border-width: 0">
                                        <h:outputText value="Ingrese el Nro. de Partida: " />
                                        <p:inputText id="globalFilter" onkeyup="PF().filter()" style="width:150px"/>
                                    </td>
                                </tr>
                            </table>
                        </p:outputPanel>
                    </f:facet>
                    
                    <p:column headerText="Nro. Partida" >
                        <h:outputText value="#{bien.nroPartida}" />
                    </p:column>

                    <p:column headerText="Tipo de Bien">
                        <h:outputText value="#{bien.tipoBien}" />
                    </p:column>

                    <p:column headerText="Tipo de Propietario">
                        <h:outputText value="#{bien.tipoPropietario}" />
                    </p:column>

                    <p:column headerText="Monto Valorizado">
                        <h:outputText value="S/. #{bien.montoValorizado}" />
                    </p:column>

                    <p:column headerText="Visualizar">
                        <h:outputText value="#{bien.idDocumento}" />
                    </p:column>
                </p:dataTable>
            </div>
            
            <p:dialog header="Agregar Bien" widgetVar="cdAgregarBien" modal="false" resizable="false">
                <h:panelGrid  columns="4" cellpadding="5">
                    <h:outputLabel for="nroPartida" value="Nro. de Partida:" />
                    <p:inputText  id="nroPartida" value="#{beanBienes.nroPartida}"/>

                    <h:outputLabel for="desc" value="Descripción:" />
                    <p:inputTextarea id="desc" rows="4" cols="33" value="#{beanBienes.desc}"/>

                    <h:outputLabel for="tipoBien" value="Tipo de Bien:" />
                    <p:selectOneMenu id="tipoBien" value="#{beanBienes.tipoBien}" style="width:150px">
                        <f:selectItem itemLabel="Seleccione" itemValue="" noSelectionOption="true" />
                        <f:selectItems value="#{beanBienes.tipoBienes}" />
                    </p:selectOneMenu>

                    <h:outputLabel for="ubicacion" value="Ubicación:" />
                    <p:inputText  id="ubicacion" value="#{beanBienes.ubicacion}"/>

                    <h:outputLabel for="tipoProp" value="Tipo de Propietario:" />
                    <p:selectOneMenu id="tipoProp" value="#{beanBienes.tipoProp}" style="width:200px">
                        <f:selectItem itemLabel="Seleccione" itemValue="" noSelectionOption="true" />
                        <f:selectItems value="#{beanBienes.tipoProps}" />
                    </p:selectOneMenu>

                    <h:outputLabel for="valor" value="Monto Valorizado (S/.):" />
                    <p:inputText  id="valor" value="#{beanBienes.montoVal}"/>

                    <f:facet name="footer">
                        <p:commandButton value="Guardar" icon="ui-icon-disk" action="#{beanBienes.registrarBien}" 
                                         oncomplete="PF('cdAgregarBien').hide()"/>
                    </f:facet>
                </h:panelGrid>
                                    
            </p:dialog>
            
        </h:form>
        
        
        
        
        
        
        
    </ui:define>
</ui:composition>
